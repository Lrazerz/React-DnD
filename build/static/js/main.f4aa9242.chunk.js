(this["webpackJsonpitems-dnd"]=this["webpackJsonpitems-dnd"]||[]).push([[0],{27:function(e,n,t){e.exports={Alert:"Alert_Alert__2OSub","alert-danger":"Alert_alert-danger__JpjkH","alert-success":"Alert_alert-success__VexSb"}},38:function(e,n,t){e.exports=t(50)},49:function(e,n,t){},50:function(e,n,t){"use strict";t.r(n);var r=t(0),a=t.n(r),i=t(17),c=t.n(i),o=t(4),l=t(8),u=t(31),d=t(32),f=t(3),h=t(2),s=t(9),v=function(){for(var e=[],n=0;n<=5;n++){e[n]=[];for(var t=0;t<=16;t++)e[n][t]=3===t&&3===n||3===t&&4===n||4===t&&3===n||4===t&&4===n||3===t&&2===n||4===t&&2===n?{mainCell:[3,2],width:2,height:3}:8===t&&4===n||9===t&&4===n||8===t&&5===n||9===t&&5===n?{mainCell:[8,4],width:2,height:2}:null}return{board:e}},b=[],m={mainCell:null,width:null,height:null,xUp:null,xDown:null,yUp:null,yDown:null,hoveredSquare:null,allHoveredSquares:[],canDrop:!1},p="item",E=function(){for(var e=[],n=0;n<10;n++)e[n]=0===n?{id:n,allowedItemType:p,item:null}:{id:n,allowedItemType:"SomeOtherType",item:null};return{cells:e}},g=Object(l.combineReducers)({board:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:v(),n=arguments.length>1?arguments[1]:void 0;switch(n.type){case"SQUARES_FILL":var t=Object(s.a)(e.board),r=n.squares,a=n.mainCell,i=n.width,c=n.height;return r.forEach((function(e){var n=Object(h.a)(e,2),r=n[0],o=n[1];t[o][r]={mainCell:a,width:i,height:c}})),Object(f.a)(Object(f.a)({},e),{},{board:t});case"SQUARES_RELEASE":var o=Object(s.a)(e.board);return n.squares.forEach((function(e){var n=Object(h.a)(e,2),t=n[0],r=n[1];o[r][t]=null})),Object(f.a)(Object(f.a)({},e),{},{board:o});default:return e}},alert:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:b,n=arguments.length>1?arguments[1]:void 0;switch(n.type){case"ALERT_SET":return[].concat(Object(s.a)(e),[n.alert]);case"ALERT_REMOVE":return e.filter((function(e){return e.id!==n.alertId}));default:return e}},draggedItem:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:m,n=arguments.length>1?arguments[1]:void 0;switch(n.type){case"DRAGGED_ITEM_SET":var t=n.mainCell,r=n.width,a=n.height,i=n.xUp,c=n.xDown,o=n.yUp,l=n.yDown;return Object(f.a)(Object(f.a)({},e),{},{mainCell:t,width:r,height:a,xUp:i,xDown:c,yUp:o,yDown:l});case"DRAGGED_ITEM_RELEASE":case"HOVERED_SQUARES_REMOVE":return m;case"HOVERED_SQUARES_SET":return Object(f.a)(Object(f.a)({},e),{},{hoveredSquare:n.point,allHoveredSquares:n.squares,canDrop:n.canDrop});default:return e}},equippedItems:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:E(),n=arguments.length>1?arguments[1]:void 0;switch(n.type){case"EQUIPPED_ITEM_SET":var t=Object(s.a)(e.cells);return t[n.id]=Object(f.a)(Object(f.a)({},t[n.id]),{},{item:n.item}),Object(f.a)(Object(f.a)({},e),{},{cells:t});case"EQUIPPED_ITEM_REMOVE":var r=Object(s.a)(e.cells);return r[n.id]=Object(f.a)(Object(f.a)({},r[n.id]),{},{item:null}),Object(f.a)(Object(f.a)({},e),{},{cells:r});default:return e}}}),O=[d.a],w=Object(l.createStore)(g,Object(u.composeWithDevTools)(l.applyMiddleware.apply(void 0,O))),j=t(5),y=t(53),x=t(36),S=t(6),I=t(19);function D(){var e=Object(j.a)(["\n  backgroundColor: background: linear-gradient(#878c8a,#636967);\n  width: 100%;\n  height: 100%;\n  display: flex;\n  justifyContent: center;\n  alignItems: center;\n"]);return D=function(){return e},e}var _=S.a.div(D()),R=function(e){var n=e.children;return a.a.createElement(_,null,n)},T=t(55),A=t(54),C=function(e){return{type:"ALERT_SET",alert:e}},U=function(e){return{type:"ALERT_REMOVE",alertId:e}},q=function(e,n,t){return function(r,a){for(var i=a().board.board,c=[],o="",l=e[0];l<e[0]+n;l++)for(var u=e[1];u<e[1]+t;u++)c.push([l,u]);for(var d=!0,f=function(e){for(var n=function(n){c.forEach((function(t){var r=Object(h.a)(t,2),a=r[0],c=r[1];a<0||a>16||c<0||c>5?(d=!1,o="The object can not be placed outside the board.\nThe board has the following coordinates:\n"+"x: ".concat(0," - ").concat(16,"\ny: ").concat(0," - ").concat(5)):a===e&&c===n&&null!==i[n][e]&&(d=!1,o="The object can not be placed on the other object!")}))},t=0;t<=5;t++)n(t)},s=0;s<=16;s++)f(s);r(d?k(c,e,n,t):function(e,n){var t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:4e3;return function(r){var a=Object(A.a)();r(C({msg:e,alertType:n,id:a})),setTimeout((function(){return r(U(a))}),t)}}("Sorry. "+o,"danger"))}};window.addInventory=function(e,n,t){return w.dispatch(q(e,n,t))};var k=function(e,n,t,r){return{type:"SQUARES_FILL",squares:e,mainCell:n,width:t,height:r}},M=function(e){return{type:"SQUARES_RELEASE",squares:e}},L=function(e){var n=Object(h.a)(e,2),t=n[0],r=n[1],a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;return function(e){for(var n=[],c=t;c<t+a;c++)for(var o=r;o<r+i;o++)n.push([c,o]);e(M(n))}},Q=function(e){var n=e.color;return a.a.createElement("div",{style:{position:"absolute",top:"0",left:"0",height:"100%",width:"100%",zIndex:0,opacity:.5,backgroundColor:n}})},V=function(e,n,t,r,a,i,c){return{type:"DRAGGED_ITEM_SET",mainCell:e,width:n,height:t,xUp:r,xDown:a,yUp:i,yDown:c}};function H(){var e=Object(j.a)(["\n  width: 100%;\n  height: 100%;\n  position: relative;\n"]);return H=function(){return e},e}var P=S.a.div(H()),G=function(e){var n=Object(h.a)(e.coords,2),t=n[0],i=n[1],c=e.children,l=Object(r.useState)(!1),u=Object(h.a)(l,2),d=u[0],f=u[1],s=Object(o.c)((function(e){e.board;var n=e.draggedItem;return[n.hoveredSquare,n.allHoveredSquares,n.canDrop,n.mainCell,n.width,n.height]})),v=Object(h.a)(s,6),b=v[0],m=v[1],E=v[2],g=v[3],O=v[4],w=v[5],j=Object(o.b)(),y=Object(T.a)({accept:p,drop:function(e,n){n.canDrop()&&(j(L(g,O,w)),j(function(e){var n=Object(h.a)(e,2),t=n[0],r=n[1];return function(e,n){var a=n().draggedItem,i=a.allHoveredSquares,c=a.xDown,o=a.yDown,l=a.width,u=a.height;e(k(i,[t-c,r-o],l,u))}}([t,i])))},hover:function(){b&&b[0]===t&&b[1]===i||j(function(e){var n=Object(h.a)(e,2),t=n[0],r=n[1];return function(e,n){for(var a=n(),i=a.draggedItem,c=i.xDown,o=i.xUp,l=i.yDown,u=i.yUp,d=i.mainCell,f=i.width,s=i.height,v=a.board.board,b=[],m=t-c;m<=t+o;m++)for(var p=r-l;p<=r+u;p++)b.push([m,p]);for(var E=!0,g=function(e){for(var n=function(n){b.forEach((function(t){var r=Object(h.a)(t,2),a=r[0],i=r[1];(a<0||a>16||i<0||i>5||a===e&&i===n&&null!==v[n][e]&&(a<d[0]||a>d[0]+f-1||i<d[1]||i>d[1]+s-1))&&(E=!1)}))},t=0;t<=5;t++)n(t)},O=0;O<=16;O++)g(O);e(function(e,n,t){return{type:"HOVERED_SQUARES_SET",point:e,squares:n,canDrop:t}}([t,r],b,E))}}([t,i]))},canDrop:function(){return E}}),x=Object(h.a)(y,2);Object(I.a)(x[0]);var S=x[1];return Object(r.useEffect)((function(){var e=m.findIndex((function(e){return e[0]===t&&e[1]===i}));f(-1!==e)}),[t,i,m]),a.a.createElement(P,{ref:S},a.a.createElement(R,null,c),d&&!E&&a.a.createElement(Q,{color:"red"}),d&&E&&a.a.createElement(Q,{color:"green"}))},z=t(56);function J(){var e=Object(j.a)(["\n  display: block;\n  position: relative;\n  cursor: move;\n  width: 100%;\n  height: 100%;\n  background-color: black;\n"]);return J=function(){return e},e}var W=S.a.span(J()),F=function(e){var n=e.children,t=e.forwardedRef;return a.a.createElement(W,{ref:t},n)},B=function(e){var n=Object(h.a)(e.coords,2),t=n[0],r=n[1],i=e.mainCell,c=e.width,l=e.height,u=e.isInventoryId,d=void 0!==u&&u,f=Object(o.b)(),s=Object(z.a)({item:{type:p},begin:function(){f(function(e){var n=Object(h.a)(e,2),t=n[0],r=n[1],a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[t,r],i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,c=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1;return function(e){var n=Object(h.a)(a,2),o=n[0],l=n[1];e(V(a,i,c,o+i-1-t,t-o,l+c-1-r,r-l))}}([t,r],i,c,l))},end:function(){var e;!1!==d&&f((e=d,function(n){n(function(e){return{type:"EQUIPPED_ITEM_REMOVE",id:e}}(e))})),f({type:"HOVERED_SQUARES_REMOVE"})},collect:function(){return{}}}),v=Object(h.a)(s,2);Object(I.a)(v[0]);var b=v[1];return a.a.createElement(F,{forwardedRef:b})};function N(){var e=Object(j.a)(["\n    height: 100%;\n    box-sizing: border-box; \n    border: 1px solid gray; \n"]);return N=function(){return e},e}function K(){var e=Object(j.a)(["\n    width: 68%;\n    margin-left: 1%;\n    margin-right: 1%;\n    display: grid;\n    grid-template-columns: repeat(17, 1fr);\n    grid-template-rows: repeat(6, 1fr);\n    overflow: hidden;\n    @media (max-width: 780px) {\n      margin: 1% auto;\n      width: 100%;\n    }\n"]);return K=function(){return e},e}var X=S.a.div(K()),Y=S.a.div(N()),Z=function(){var e=[],n=Object(o.c)((function(e){return e.board.board})),t=Object(r.useState)(null),i=Object(h.a)(t,2),c=i[0],l=i[1],u=Object(r.useRef)(null);Object(r.useEffect)((function(){function e(){var e=u.current.clientWidth;l(.35294*e)}return window.addEventListener("resize",e),e(),function(){return window.removeEventListener("resize",e)}}),[]);for(var d=function(e,t){if(!n)return null;var r=null,i=n[e][t];if(i){var c=i.mainCell,o=i.width,l=i.height;r=a.a.createElement(B,{coords:[t,e],mainCell:c,width:o,height:l})}return a.a.createElement(Y,{key:20*t+e},a.a.createElement(G,{coords:[t,e]},r))},f=0;f<=5;f++)for(var s=0;s<=16;s++)e.push(d(f,s));return a.a.createElement(X,{ref:u,style:{height:"".concat(c+0,"px")}},e)},$=t(27),ee=t.n($),ne=function(){var e=Object(o.c)((function(e){return e.alert}));return e.length>0&&e.map((function(e,n){return a.a.createElement("div",{key:e.id,className:"".concat(ee.a.Alert," ").concat(ee.a["alert-"+e.alertType]),style:{left:"".concat((window.innerWidth/2-150).toString(),"px"),top:"".concat(100*n+60,"px")}},e.msg)}))};function te(){var e=Object(j.a)(["\n    width: 90%;\n    position: relative;\n    height: 16%;\n    border-radius: 5px;\n    background: linear-gradient(#878c8a,#636967);\n    @media (max-width: 780px) {\n      height: 100%;\n      width: 17%;\n      flex-direction: row;\n    }\n"]);return te=function(){return e},e}var re=S.a.div(te()),ae=function(e){var n=e.cellId,t=e.allowedItemType,r=(e.item,e.children),i=Object(o.b)(),c=Object(o.c)((function(e){return[e.draggedItem,e.equippedItems.cells]})),l=Object(h.a)(c,2),u=l[0],d=l[1],f=u.mainCell,s=u.width,v=u.height,b=Object(T.a)({accept:t,drop:function(e,t){t.canDrop()&&(i(L(f,s,v)),i(function(e){return function(n,t){var r=t().draggedItem,a=r.mainCell,i=r.width,c=r.height;n(function(e,n){return{type:"EQUIPPED_ITEM_SET",id:e,item:n}}(e,{mainCell:a,width:i,height:c}))}}(n)))},canDrop:function(){return d.find((function(e){return e.id===n&&null===e.item}))},collect:function(e){return{isOver:e.isOver({shallow:!0}),canDrop:e.canDrop()}}}),m=Object(h.a)(b,2),p=m[0],E=p.isOver,g=p.canDrop,O=m[1];return a.a.createElement(re,{ref:O},r,E&&g&&a.a.createElement(Q,{color:"green"}),E&&!g&&a.a.createElement(Q,{color:"red"}),!E&&g&&a.a.createElement(Q,{color:"#889459"}))};function ie(){var e=Object(j.a)(["\n    width: 15%;\n    max-width: 15%;\n    height: 100vh;\n    box-sizing: border-box;\n    padding: 2%;\n    background: linear-gradient(#525957,#545c59);\n    display: flex;\n    flex-direction: column;\n    align-items: center;\n    justify-content: space-around;\n    @media (max-width: 780px) {\n      height: 20vh;\n      min-width: 100%;\n      flex-direction: row;\n    }\n  "]);return ie=function(){return e},e}var ce=function(e){var n=e.cells,t=S.a.div(ie());return a.a.createElement(t,null,n.map((function(e){var n=null;if(e.item){var t=e.item,r=t.mainCell,i=t.width,c=t.height;n=a.a.createElement(B,{coords:r,mainCell:r,width:i,height:c,isInventoryId:e.id})}return a.a.createElement(ae,{cellId:e.id,item:e.item,allowedItemType:e.allowedItemType},n)})))};function oe(){var e=Object(j.a)(["\n    display: flex;\n    flex-grow: 1;\n    padding: 2%;\n    background: linear-gradient(#515754,#1e2120);\n    @media (max-width: 780px) {\n        flex-direction: column;\n    }\n}\n"]);return oe=function(){return e},e}var le=S.a.div(oe()),ue=function(){var e=Object(o.c)((function(e){return e.equippedItems.cells}));return a.a.createElement(y.a,{backend:x.a},a.a.createElement(le,null,a.a.createElement(ne,null),a.a.createElement(ce,{cells:e.slice(0,5)}),a.a.createElement(Z,null),a.a.createElement(ce,{cells:e.slice(5,10)})))};t(49);c.a.render(a.a.createElement(o.a,{store:w},a.a.createElement(ue,null)),document.getElementById("root"))}},[[38,1,2]]]);
//# sourceMappingURL=main.f4aa9242.chunk.js.map